
# 상관관계 분석
- EDA 분석을 실행하기 위해 일반 02_exploratory_analysis.R 파일을 실행한다.
- 해당 파일에서 일단 파일의 이름을 정확하게 알아야 하기에 아래 코드를 출력한다.
```R
cat("\n=== 데이터 기본 정보 ===\n")
cat("데이터 차원:", dim(data), "\n")
cat("변수명:\n")
print(names(data))
```
- 주요 분석 방법은 임상 변수들 간의 상관관계 분석, 병기와 생존의 관련성 분석, 수술 여부와 생존의 관련성 분석 
- 결과로만 따지면 이렇다 할만한 연관성을 찾기가 힘들었음 
## 임상 변수들 간의 상관관계 분석
- 연령,신장게측,생존 여부에 관해 상관관계 분석을 했을 때, 모두 상관관계가 거의 없음을 확인할 수 있었다. 
    - 추가로 찾아보니 애초에 정말 상관관계가 없다고 알려져 있음

## 병기와 생존의 관련성 분석
- 병기와 생존의 관련성 분석을 했을 때, p-value < 0.05에 해당 하는 값이 전혀 없음을 확인함

## 수술 여부와 생존의 관련성 분석
- 수술 여부와 생존의 관련성 분석을 했을 때, p-value < 0.05에 해당 하는 값이 전혀 없음을 확인함

## 생존 분석
- 생존 분석을 했을 때, p-value < 0.05에 해당 하는 값이 전혀 없음을 확인함


# 처음부터
- 데이터 전처리의 문제라 생각하여 처음부터 다시 하기로 했다. 기존 SEER데이터셋을 사용한 한국의 논문이 있기에 참고할 수 있었다.
- [논문](https://www.nature.com/articles/s41598-025-95385-0)
- 논문에서 50세 이전 암진단 환자의 경우 EOCRC로 분류하고, 50세 이후 암진단 환자의 경우 LOCRC로 분류했다.
- 해당 데이터셋의 비율은 3:7로 EOCRC와 LOCRC로 분류한다. 논문에서도 같다.
- 이후 확인해보니 논문에서는 18세 이상 환자만을 대상으로 분석했다. 이전에는 결측치만 제외하고 분석했다.
- 추가적으로 확인하니 모든 요소가 0이거나 1인 변수 검사를 해보니 모두 0인 변수 4개, [1] "병기STAGE.N2a." "병기STAGE.N2b." "병기STAGE.N3a." "병기STAGE.N3b." 가 있어 모두 삭제하기로함, 1은 없었음
- EOCRC와 LOCRC로 분류한 데이터를 학습 데이터와 테스트 데이터로 분리하여 저장 


## 대장암 임상 데이터 변수 정리
|변수명|설명|값 예시/코드|
|---|---|---|
|AGE|진단 시 연령|67|
|조직학적 진단명 (mucinous 등)|각 조직형별 진단 여부|0=아니오, 1=예|
|병기(STAGE) 정보 (Tis, T1 등)|각 병기별 진단 여부|0=아니오, 1=예|
|Type.of.Drink|음주 종류|1=맥주, 2=소주, 3=양주, 99=기타|
|Smoke|흡연 여부|0=비흡연, 1=현재흡연, 2=과거흡연|
|Height|신장(cm)|170.1|
|Weight|체중(kg)|64.5|
|EGFR|면역병리 EGFR 검사 결과|1=negative, 2=positive, 99=해당없음|
|MSI, KRASMUTATION_EXON2, KRASMUTATION, NRASMUTATION, BRAF_MUTATION|분자병리 검사 결과|1=not detected, 2=detected, 99=해당없음|
|Operation|대장암 수술 여부|0=아니오, 1=예|
|Chemotherapy|항암제 치료 여부|0=아니오, 1=예|
|Radiation.Therapy|방사선 치료 여부|0=아니오, 1=예|
|Death|사망 여부|0=아니오, 1=예|
|Survival.period|암 진단 후 생존 일수|267 (days)|
|cancer_type|암 유형(EOCRC, LOCRC)|"EOCRC", "LOCRC"|

## 줄이기
- 데이터셋 변수 줄이기로는 병기를 통합하는 방법 밖엔 없음 논문에서는 TMN으로 줄였지만 우리는 T,M,N으로 줄이리고함
- 결측치 50퍼 넘어가는건 삭제하려 했으나 M_stage가 날아가는것이 문제임, M_stage만 남길지 고민임
    - 국제 표준으로 병기 부분은 남기는게 옳다함 M도 날아가고 N도 날아가게 생겼으니 병기 부분은 예외로 두는게 옳음
## 단변량 분석
- 각 임상 변수와 생존(사망여부와 생존기간)과의 상관 관계를 확인하기 위해 단변량 분석을 수행한다.
- 관련성 적은 변수는 모두 삭제할것


### 단변량 분석 결과
- 
